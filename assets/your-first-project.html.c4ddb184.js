import{_ as t,r as e,o,c as i,a as n,d as c,b as r,e as a}from"./app.cd0b8009.js";const p={},l=r(`<h1 id="your-first-project" tabindex="-1"><a class="header-anchor" href="#your-first-project" aria-hidden="true">#</a> Your First Project</h1><p>Where do you start to create an API endpoint? In this guide, we\u2019ll show you how to build your first API endpoint using Confetti. You\u2019ll see how simple it is to create and register an endpoint that returns JSON data.</p><h2 id="create-an-api-endpoint" tabindex="-1"><a class="header-anchor" href="#create-an-api-endpoint" aria-hidden="true">#</a> Create An API Endpoint</h2><h3 id="controller" tabindex="-1"><a class="header-anchor" href="#controller" aria-hidden="true">#</a> Controller</h3><p>Create a function to handle API requests\u2014these functions are called controllers in Confetti. Create a file named <code>contact_api.go</code> in your <code>internal/controllers</code> directory with the following content:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> controllers

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;net/http&quot;</span>
	<span class="token string">&quot;src/internal/pkg/handler&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// ContactContactShow handles API requests to retrieve contact information.</span>
<span class="token keyword">func</span> <span class="token function">ContactShow</span><span class="token punctuation">(</span>response http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> request <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	data <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
		<span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Singh&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;city&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;New Delhi&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> handler<span class="token punctuation">.</span><span class="token function">ToJson</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> data<span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Note:</em> The <code>handler.ToJson</code> function converts your data to JSON and sets the correct response headers automatically. For more details on response handling, refer to the <a href="../the-basics/responses">Response Documentation</a>.</p><h3 id="route" tabindex="-1"><a class="header-anchor" href="#route" aria-hidden="true">#</a> Route</h3><p>To expose your API endpoint, register your controller in the API routes file\u2014typically <code>routes/api.go</code>. Add the following route registration:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>handler<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;GET /contact&quot;</span><span class="token punctuation">,</span> controllers<span class="token punctuation">.</span>ContactShow<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,10),u=a("After rebuilding your application, your API endpoint will be available at "),d={href:"http://localhost/contact",target:"_blank",rel:"noopener noreferrer"},h=a("http://localhost/contact"),k=a("."),v=n("blockquote",null,[n("p",null,[a("Tip: For validating incoming data, check out the "),n("a",{href:"../the-basics/validation"},"Validation Documentation"),a(".")])],-1);function m(g,b){const s=e("ExternalLinkIcon");return o(),i("div",null,[l,n("p",null,[u,n("a",d,[h,c(s)]),k]),v])}const _=t(p,[["render",m],["__file","your-first-project.html.vue"]]);export{_ as default};
